/* 인쇄 최적화 스타일시트 - 개선된 2페이지 레이아웃 */
@media print {
    /* 페이지 설정 */
    @page {
        size: A4;
        margin: 20mm 15mm 20mm 15mm; /* 상하좌우 여백 증가 */
    }
    
    @page :first {
        margin-top: 15mm;
    }
    
    /* 기본 설정 */
    body {
        font-size: 11pt !important;
        line-height: 1.5 !important; /* 줄간격 증가 */
        color: black !important;
        background: white !important;
    }
    
    /* 컨테이너 최대 너비 해제 */
    .container {
        max-width: 100% !important;
        padding: 0 !important;
    }
    
    /* 제목 스타일 */
    h1 {
        font-size: 22pt !important;
        margin-bottom: 20px !important;
        page-break-after: avoid;
        color: #0066cc !important;
        text-align: center !important;
    }
    
    h2 {
        font-size: 15pt !important;
        margin: 20px 0 12px 0 !important;
        page-break-after: avoid;
        color: #0066cc !important;
        border-bottom: 2px solid #0066cc !important;
        padding-bottom: 5px !important;
    }
    
    h3 {
        font-size: 13pt !important;
        margin: 15px 0 8px 0 !important;
        page-break-after: avoid;
        color: #333 !important;
    }
    
    /* 테이블 스타일 개선 */
    table {
        font-size: 10pt !important;
        page-break-inside: avoid;
        width: 100% !important;
        border-collapse: collapse !important;
        margin-bottom: 20px !important;
    }
    
    th {
        background: #e8e8e8 !important;
        padding: 10px !important;
        font-size: 10pt !important;
        border: 1px solid #999 !important;
        color: black !important;
        font-weight: bold !important;
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
    }
    
    td {
        padding: 8px 10px !important;
        font-size: 10pt !important;
        border: 1px solid #ccc !important;
        color: black !important;
        line-height: 1.4 !important;
    }
    
    /* 테이블 행이 페이지를 넘어가지 않도록 */
    tr {
        page-break-inside: avoid;
    }
    
    /* 일차별 헤더 행 스타일 */
    .bg-slate-900, tr.bg-slate-900 {
        background: #d8d8d8 !important;
        font-weight: bold !important;
        font-size: 11pt !important;
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
    }
    
    /* 페이지 분할 규칙 */
    /* 1페이지: 일정표 + 숙소 정보 + 안전 수칙 */
    .bg-slate-800:nth-child(2) { /* 일정표 섹션 */
        page-break-after: avoid;
        margin-bottom: 25px !important;
    }
    
    .bg-slate-800:nth-child(3) { /* 안전 수칙 섹션 */
        page-break-after: always !important; /* 안전 수칙 후 페이지 나누기 */
        margin-bottom: 0 !important;
    }
    
    /* 2페이지: 준비물 체크리스트부터 시작 */
    .bg-slate-800:nth-child(4) { /* 준비물 체크리스트 섹션 */
        page-break-before: always !important; /* 새 페이지에서 시작 */
        margin-top: 0 !important;
    }
    
    /* 정보 박스 스타일 개선 */
    .bg-yellow-900, .bg-blue-900, .bg-orange-900, .bg-red-900 {
        background: #f8f8f8 !important;
        border: 2px solid #666 !important;
        padding: 12px !important;
        margin: 20px 0 !important;
        page-break-inside: avoid;
        border-radius: 5px !important;
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
    }
    
    /* 숙소 정보 박스 */
    .bg-yellow-900 {
        background: #fffef0 !important;
        border-color: #ffa500 !important;
    }
    
    /* 학생 신분증 안내 박스 */
    .bg-blue-900 {
        background: #f0f8ff !important;
        border-color: #0066cc !important;
    }
    
    /* 개인 상비약 안내 박스 */
    .bg-orange-900 {
        background: #fff5e6 !important;
        border-color: #ff8c00 !important;
    }
    
    /* 비행기 반입금지 물품 박스 */
    .bg-red-900 {
        background: #fff0f0 !important;
        border-color: #cc0000 !important;
    }
    
    /* 체크리스트 스타일 개선 */
    #checklist {
        page-break-inside: avoid;
        margin-top: 0 !important;
    }
    
    #checklist > div {
        page-break-inside: avoid;
        margin-bottom: 20px !important;
        padding: 10px !important;
        border: 1px solid #ddd !important;
        border-radius: 5px !important;
        background: #fafafa !important;
    }
    
    #checklist label {
        display: flex !important;
        align-items: center !important;
        padding: 5px 0 !important;
        line-height: 1.4 !important;
    }
    
    #checklist input[type="checkbox"] {
        width: 15px !important;
        height: 15px !important;
        margin-right: 10px !important;
        border: 2px solid #666 !important;
    }
    
    /* 색상 보존 */
    * {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
        color-adjust: exact !important;
    }
    
    /* 텍스트 색상 조정 */
    .text-gray-300, .text-gray-400, .text-gray-500,
    .text-blue-300, .text-yellow-300, .text-orange-300, .text-red-300 {
        color: black !important;
    }
    
    /* 강조 텍스트 색상 */
    .text-yellow-300.font-semibold {
        color: #ff8c00 !important;
        font-weight: bold !important;
    }
    
    .text-red-300.font-semibold {
        color: #cc0000 !important;
        font-weight: bold !important;
    }
    
    .text-blue-300.font-semibold {
        color: #0066cc !important;
        font-weight: bold !important;
    }
    
    /* 리스트 스타일 개선 */
    ul {
        margin: 15px 0 !important;
        padding-left: 25px !important;
    }
    
    ul li {
        margin: 8px 0 !important;
        line-height: 1.5 !important;
        color: black !important;
    }
    
    /* 불필요한 요소 숨기기 */
    .no-print,
    #tab-buttons,
    #backup-guide,
    #pwa-install-prompt,
    #download-guide-btn,
    #export-btn,
    #import-file,
    #reset-btn,
    .home-button,
    footer,
    .progress-inactive,
    .progress-line-inactive,
    #hide-guide-btn,
    #autosave-indicator,
    .bg-slate-800:first-child, /* 기본 정보 입력 섹션 숨기기 */
    .mt-4.flex.justify-center, /* 진행률 표시 숨기기 */
    button[onclick*="goToHome"], /* 홈 버튼 숨기기 */
    .text-center:has(#download-guide-btn) /* 다운로드 버튼 영역 숨기기 */ {
        display: none !important;
    }
    
    /* 배경색 있는 섹션 */
    .bg-slate-800 {
        background: white !important;
        border: none !important;
        padding: 0 !important;
        margin-bottom: 25px !important;
    }
    
    .bg-slate-700 {
        background: #f9f9f9 !important;
    }
    
    /* 링크 스타일 단순화 */
    a {
        text-decoration: none !important;
        color: #000 !important;
    }
    
    /* 이미지 크기 제한 */
    img {
        max-width: 100% !important;
        height: auto !important;
        page-break-inside: avoid;
    }
    
    /* 여백 최적화 */
    p {
        margin: 10px 0 !important;
        color: black !important;
        line-height: 1.5 !important;
    }
    
    /* 모달 관련 스타일 */
    body * {
        visibility: hidden;
    }
    
    #guide-content, #guide-content * {
        visibility: visible !important;
    }
    
    /* 페이지 번호 표시를 위한 카운터 (선택사항) */
    @page {
        @bottom-center {
            content: counter(page) " / " counter(pages);
            font-size: 10pt;
            color: #666;
        }
    }
}

/* 인쇄 미리보기를 위한 클래스 */
@media screen {
    .print-preview {
        max-width: 210mm;
        margin: 0 auto;
        padding: 20mm 15mm;
        background: white;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    
    .page-break {
        border-top: 3px dashed #ccc;
        margin: 30px 0;
        padding-top: 30px;
        position: relative;
    }
    
    .page-break::before {
        content: "페이지 나누기";
        position: absolute;
        top: -12px;
        left: 50%;
        transform: translateX(-50%);
        background: white;
        padding: 0 10px;
        color: #999;
        font-size: 12px;
    }
}